<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Rueda Emocional â€“ IBERO</title>

<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #f4f6f8;
  text-align: center;
}

/* HEADER */
header {
  background: white;
  padding: 15px;
  border-bottom: 4px solid #0b3c5d;
}

header img {
  height: 60px;
}

header h2 {
  margin: 10px 0 0;
  font-size: 22px;
  color: #0b3c5d;
}

/* CONTENEDOR */
.container {
  padding: 20px;
}

/* RUEDA */
.wheel {
  width: 340px;
  height: 340px;
  margin: 30px auto;
  border-radius: 50%;
  background: conic-gradient(
    #4caf50 0deg 72deg,
    #2196f3 72deg 144deg,
    #3f51b5 144deg 216deg,
    #9c27b0 216deg 288deg,
    #f44336 288deg 360deg
  );
  position: relative;
  transition: transform 1s ease;
}

/* BOTONES */
.wheel button {
  position: absolute;
  width: 110px;
  height: 36px;
  border: none;
  border-radius: 20px;
  background: rgba(255,255,255,0.9);
  cursor: pointer;
  font-size: 13px;
  font-weight: bold;
}

.btn1 { top: 8px; left: 115px; }
.btn2 { top: 105px; right: -8px; }
.btn3 { bottom: 15px; right: 60px; }
.btn4 { bottom: 15px; left: 60px; }
.btn5 { top: 105px; left: -8px; }

/* MODAL PANTALLA COMPLETA */
.modal {
  display: none;
  position: fixed;
  inset: 0;
  color: white;
  padding: 40px 20px;
  z-index: 1000;
}

.modal-content {
  max-width: 700px;
  margin: auto;
}

.modal img {
  width: 140px;
  margin-bottom: 15px;
}

/* BOTÃ“N VOLVER */
.modal button {
  margin-top: 30px;
  padding: 14px 28px;
  border: none;
  border-radius: 30px;
  font-size: 16px;
  cursor: pointer;
  font-weight: bold;
}

/* FOOTER */
footer {
  font-size: 12px;
  color: #555;
  margin: 20px;
}
</style>
</head>

<body>

<header>
  <img src="logo-ibero.png" alt="Universidad Iberoamericana">
  <h2>Rueda Emocional â€“ RetroalimentaciÃ³n de Calidad</h2>
</header>

<div class="container">
<p>Haz clic en la emociÃ³n que represente cÃ³mo te sientes durante la retroalimentaciÃ³n.</p>

<div id="wheel" class="wheel">
  <button class="btn1" onclick="abrir('alegria','#4caf50')">AlegrÃ­a</button>
  <button class="btn2" onclick="abrir('miedo','#2196f3')">Miedo</button>
  <button class="btn3" onclick="abrir('tristeza','#3f51b5')">Tristeza</button>
  <button class="btn4" onclick="abrir('ira','#f44336')">Ira</button>
  <button class="btn5" onclick="abrir('sorpresa','#ffc107')">Sorpresa</button>
</div>
</div>

<div style="margin:30px;">
  <button onclick="mostrarEstadisticas()" style="padding:12px 25px; font-size:16px;">
    ðŸ“Š Ver estadÃ­sticas emocionales
  </button>
</div>

<canvas id="grafica" width="400" height="300" style="display:none; margin:auto;"></canvas>


<footer>
Recurso educativo de uso interno â€“ Universidad Iberoamericana.  
ImÃ¡genes utilizadas con fines pedagÃ³gicos, sin propÃ³sito comercial.
</footer>

<!-- MODAL -->
<div id="modal" class="modal">
  <div class="modal-content" id="modalContent"></div>
</div>

<script>
let angulo = 0;

function abrir(emocion, color) {
  let contenido = {
    alegria: `
      <img src="alegria.png">
      <h2>AlegrÃ­a</h2>
      <p><b>Â¿Por quÃ© se siente asÃ­?</b><br>Reconocimiento y logros.</p>
      <p><b>Â¿CÃ³mo gestionarla?</b><br>Reforzar conductas positivas.</p>
      <p><b>Â¿CÃ³mo mejorar?</b><br>Compartir buenas prÃ¡cticas.</p>`,

    miedo: `
      <img src="miedo.png">
      <h2>Miedo</h2>
      <p><b>Â¿Por quÃ© se siente asÃ­?</b><br>Temor a la evaluaciÃ³n.</p>
      <p><b>Â¿CÃ³mo gestionarlo?</b><br>RespiraciÃ³n y claridad.</p>
      <p><b>Â¿CÃ³mo mejorar?</b><br>Plan de acciÃ³n.</p>`,

    tristeza: `
      <img src="tristeza.png">
      <h2>Tristeza</h2>
      <p><b>Â¿Por quÃ© se siente asÃ­?</b><br>DesmotivaciÃ³n.</p>
      <p><b>Â¿CÃ³mo gestionarla?</b><br>Validar la emociÃ³n.</p>
      <p><b>Â¿CÃ³mo mejorar?</b><br>Aprendizaje del error.</p>`,

    ira: `
      <img src="ira.png">
      <h2>Ira</h2>
      <p><b>Â¿Por quÃ© se siente asÃ­?</b><br>FrustraciÃ³n.</p>
      <p><b>Â¿CÃ³mo gestionarla?</b><br>Pausa emocional.</p>
      <p><b>Â¿CÃ³mo mejorar?</b><br>Foco en soluciones.</p>`,

    sorpresa: `
      <img src="sorpresa.png">
      <h2>Sorpresa</h2>
      <p><b>Â¿Por quÃ© se siente asÃ­?</b><br>Cambio inesperado.</p>
      <p><b>Â¿CÃ³mo gestionarla?</b><br>Preguntar.</p>
      <p><b>Â¿CÃ³mo mejorar?</b><br>Organizar informaciÃ³n.</p>`
  };

  let modal = document.getElementById("modal");
  modal.style.background = color;
  modal.style.display = "block";
  document.getElementById("modalContent").innerHTML =
    contenido[emocion] +
    `<button onclick="volver()">Volver a girar la rueda</button>`;
}

function volver() {
  document.getElementById("modal").style.display = "none";
  angulo += 360;
  document.getElementById("wheel").style.transform = `rotate(${angulo}deg)`;
function mostrarEstadisticas() {
  let datos = JSON.parse(localStorage.getItem("emociones")) || {
    alegria: 0,
    miedo: 0,
    tristeza: 0,
    ira: 0,
    sorpresa: 0
  };

  let canvas = document.getElementById("grafica");
  canvas.style.display = "block";
  let ctx = canvas.getContext("2d");

  ctx.clearRect(0, 0, canvas.width, canvas.height);

  let emociones = ["AlegrÃ­a", "Miedo", "Tristeza", "Ira", "Sorpresa"];
  let valores = [
    datos.alegria,
    datos.miedo,
    datos.tristeza,
    datos.ira,
    datos.sorpresa
  ];
  let colores = ["#4caf50", "#2196f3", "#3f51b5", "#f44336", "#ffc107"];

  let max = Math.max(...valores, 1);

  valores.forEach((valor, i) => {
    let alto = (valor / max) * 200;
    ctx.fillStyle = colores[i];
    ctx.fillRect(60 + i * 60, 250 - alto, 40, alto);
    ctx.fillStyle = "#000";
    ctx.fillText(emociones[i], 55 + i * 60, 270);
    ctx.fillText(valor, 70 + i * 60, 240 - alto);
  });
}

</script>

</body>
</html>

